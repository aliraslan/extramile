(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){},212:function(e,t,n){e.exports=n(444)},276:function(e,t,n){},442:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(46),i=n.n(o),l=n(28),c=n(450),u=n(451),s=n(452),p=function(){return r.a.createElement("div",null,"Driver View!")},m=n(38),d=n(31);function g(){var e=Object(m.a)(["\n        {\n          Connection\n        }\n      "]);return g=function(){return e},e}var v=function(){return r.a.createElement(l.Query,{query:Object(d.a)(g())},function(e){var t=e.data,n=e.loading,a=e.error;return n?r.a.createElement("div",null,"Loading..."):a?r.a.createElement("div",null,"Error: ",JSON.stringify(a)):r.a.createElement("div",null,t.Connection," your App is connected to the backend!")})},f=function(){return r.a.createElement("div",null,"404 NOT FOUND")},h=n(34),b=n(453),w=n(449),E=n(32),y=n(100),O=(n(142),n(447));function j(){var e=Object(m.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    Login(email: $email, password: $password) {\n      id\n      firstName\n    }\n  }\n"]);return j=function(){return e},e}var S=Object(d.a)(j()),N=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),c=Object(h.a)(i,2),u=c[0],s=c[1];return r.a.createElement(l.Mutation,{mutation:S},function(e,t){var a=t.data;t.loading,t.error;return a?r.a.createElement(b.a,{to:"/map"}):r.a.createElement("div",{className:"prontoView"},r.a.createElement(w.a,{prefix:r.a.createElement(E.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",value:n,onChange:function(e){return o(e.target.value)},style:{position:"absolute",top:"40%",left:"15%",width:"70vw"}}),r.a.createElement(w.a,{prefix:r.a.createElement(E.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password",style:{position:"absolute",top:"50%",left:"15%",width:"70vw"},type:"password",value:u,onChange:function(e){return s(e.target.value)}}),r.a.createElement(y.a,{type:"primary",onClick:function(){return e({variables:{email:n,password:u}})},style:{position:"absolute",top:"60%",left:"15%",width:"70vw"}},"Login"),r.a.createElement(O.a,{style:{position:"absolute",top:"70%",left:"45%"},to:"/register"},"or sign up!"))})},$=n(205),k=(n(276),n(70)),C=function(e){e&&console.log("You are going to "+e.label+" \nThe coordinates are: "+e.location.lat.toString()+","+e.location.lng.toString())};function L(){var e=Object(k.withScriptjs)(Object(k.withGoogleMap)(function(e){return r.a.createElement(k.GoogleMap,{defaultZoom:16,defaultCenter:{lat:29.958,lng:30.958},defaultOptions:{disableDefaultUI:!0}},r.a.createElement("div",{style:{position:"absolute",left:"15%",top:"10%",width:"60vw",height:"25",textAlign:"center"}},r.a.createElement($.a,{placeholder:"Where to?",onSuggestSelect:C})),e.isMarkerShown&&r.a.createElement(k.Marker,{position:{lat:29.958,lng:30.958}}))}));return r.a.createElement(e,{isMarkerShown:!0,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAbzcvcJ23ACYcwyqLGOS1EI9Jwt1Ev6cM&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}function M(){var e=Object(m.a)(["\n  mutation RegisterMutation(\n    $firstName: String!\n    $email: String!\n    $password: String!\n    $lastName: String!\n    $phone: String!\n  ) {\n    Register(\n      firstName: $firstName\n      email: $email\n      password: $password\n      lastName: $lastName,\n      phone: $phone\n    ) {\n      id\n    }\n  }\n"]);return M=function(){return e},e}var I=Object(d.a)(M()),x=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),c=Object(h.a)(i,2),u=c[0],s=c[1],p=Object(a.useState)(""),m=Object(h.a)(p,2),d=m[0],g=m[1],v=Object(a.useState)(""),f=Object(h.a)(v,2),E=f[0],j=f[1],S=Object(a.useState)(""),N=Object(h.a)(S,2),$=N[0],k=N[1];return r.a.createElement(l.Mutation,{mutation:I},function(e,t){var a=t.data;t.loading,t.error;return a?r.a.createElement(b.a,{to:"/app"}):r.a.createElement("div",{className:"prontoView"},r.a.createElement(w.a,{placeholder:"First Name",value:d,onChange:function(e){return g(e.target.value)},style:{position:"absolute",top:"15%",left:"15%",width:"70vw"}}),r.a.createElement(w.a,{placeholder:"Last Name",value:E,onChange:function(e){return j(e.target.value)},style:{position:"absolute",top:"25%",left:"15%",width:"70vw"}}),r.a.createElement(w.a,{placeholder:"Phone number",value:$,type:"number",onChange:function(e){return k(e.target.value)},style:{position:"absolute",top:"35%",left:"15%",width:"70vw"}}),r.a.createElement(w.a,{placeholder:"Email",value:n,onChange:function(e){return o(e.target.value)},style:{position:"absolute",top:"45%",left:"15%",width:"70vw"}}),r.a.createElement(w.a,{placeholder:"Password",style:{position:"absolute",top:"55%",left:"15%",width:"70vw"},type:"password",value:u,onChange:function(e){return s(e.target.value)}}),r.a.createElement(y.a,{type:"primary",onClick:function(){return e({variables:{email:n,password:u,firstName:d,lastName:E,phone:$}})},style:{position:"absolute",top:"65%",left:"15%",width:"70vw"}},"Register"),r.a.createElement(O.a,{style:{position:"absolute",top:"70%",left:"45%"},to:"/app"},"or log in!"))})};function A(){var e=Object(m.a)(["\nsubscription TripLocationSubscription($tripId: String!) {\n  TripLocation(tripId: $tripId) {\n    location {\n      x\n      y\n    }\n    id\n    date\n  }\n}"]);return A=function(){return e},e}var T=Object(d.a)(A()),q=function(e){var t=e.tripId,n=void 0===t?"de54b6c3-c3de-40bc-83bc-a95f462f6614":t;return r.a.createElement(l.Subscription,{subscription:T,variables:{tripId:n}},function(e){var t=e.data;e.loading;if(t){var n=t.TripLocation.location,a=n.x,o=n.y;return r.a.createElement("div",null," current location: LON: ",a,", LAT: ",o," ")}return r.a.createElement("div",null,"Connecting..")})},J=n(130),D=n(448),P=n(129),R=n(207),U=n(4),G=n(33),V=new J.a({uri:"http://localhost:4000/graphql"}),W=new R.a({uri:"ws://localhost:4000/graphql",options:{reconnect:!0}}),z=Object(U.e)(function(e){var t=e.query,n=Object(G.f)(t),a=n.kind,r=n.operation;return"OperationDefinition"===a&&"subscription"===r},W,V),B=new P.a({link:z,cache:new D.a}),F=(n(442),function(){return r.a.createElement(l.ApolloProvider,{client:B},r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:v}),r.a.createElement(s.a,{path:"/driver",component:p}),r.a.createElement(s.a,{path:"/app",component:N}),r.a.createElement(s.a,{path:"/register",component:x}),r.a.createElement(s.a,{path:"/map",component:L}),r.a.createElement(s.a,{path:"/track",component:q}),r.a.createElement(s.a,{component:f}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[212,1,2]]]);
//# sourceMappingURL=main.e83d8d84.chunk.js.map